(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5469:function(e,t,n){Promise.resolve().then(n.bind(n,9946)),Promise.resolve().then(n.bind(n,630)),Promise.resolve().then(n.bind(n,590)),Promise.resolve().then(n.bind(n,7753)),Promise.resolve().then(n.bind(n,5914))},9946:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var s=n(3827),c=n(6491),r=n.n(c),a=n(8792),l=n(6879),i=n(9175),o=n(477),u=n(4090),d=n(6367);function h(e){let{city:t}=e,[n,c]=(0,u.useState)(null),[h,m]=(0,u.useState)(null),[_,f]=(0,u.useState)(null),[p,x]=(0,u.useState)(null),[j,g]=(0,u.useState)(!0);return((0,u.useEffect)(()=>{fetch("https://geocoding-api.open-meteo.com/v1/search?name=".concat(t)).then(e=>e.json()).then(e=>(m(e.results[0].latitude),f(e.results[0].longitude),fetch("https://api.open-meteo.com/v1/forecast?latitude=".concat(e.results[0].latitude,"&longitude=").concat(e.results[0].longitude,"&current_weather=true&windspeed_unit=ms")))).then(e=>e.json()).then(e=>{c(e.current_weather),g(!1)}).catch(e=>{x(e),g(!1)})},[]),j)?(0,s.jsx)(o.Z,{style:{marginBlock:"20px"},animation:"border",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):p?(0,s.jsxs)("div",{children:["Error: ",p.message]}):(0,s.jsxs)(i.Z.Text,{children:[(0,s.jsxs)("span",{className:r().card__item,children:["Температура: ",null==n?void 0:n.temperature]}),(0,s.jsxs)("span",{className:r().card__item,children:["Состояние: ",n&&(0,d.m)(n.weathercode)]}),(0,s.jsxs)("span",{className:r().card__item,children:["Скорость ветра: ",n&&n.windspeed]}),(0,s.jsx)(a.default,{className:r().card__button,href:"/".concat(t,"?lat=").concat(h,"&long=").concat(_),children:(0,s.jsx)(l.Z,{style:{display:"block"},variant:"primary",children:"Смотреть прогноз"})})]})}function m(e){let{city:t}=e;return(0,s.jsx)(i.Z,{className:r().card,children:(0,s.jsxs)(i.Z.Body,{children:[(0,s.jsx)(i.Z.Title,{children:t}),(0,s.jsx)(h,{city:t})]})})}},630:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(3827),c=n(6069),r=n(1963),a=n(4090);function l(){let[e,t]=(0,a.useState)([]);return(0,s.jsxs)("div",{style:{marginBlock:"20px"},children:[(0,s.jsx)(c.Z.Control,{type:"text",placeholder:"Введите город",onChange:e=>{""!=e.target.value&&fetch("https://geocoding-api.open-meteo.com/v1/search?name=".concat(e.target.value)).then(e=>e.json()).then(e=>{!function(e){if(void 0===e.results){t([]);return}t(e.results.slice(0))}(e)}).catch(e=>console.log(e))}}),(0,s.jsx)(r.Z,{children:e.map(e=>(0,s.jsxs)(r.Z.Item,{action:!0,href:"/".concat(e.name,"?lat=").concat(e.latitude,"&long=").concat(e.longitude),children:[e.name,", ",e.country]},e.id))})]})}},6367:function(e,t,n){"use strict";n.d(t,{m:function(){return c}});let s={0:"Ясное небо",1:"Преимущественно ясно",2:"Переменная облачность",3:"Пасмурно",4:"Облачно",5:"Очень облачно",6:"Пасмурно",45:"Туман и мгла",48:"Туман и мгла",51:"Морось: легкая интенсивность",53:"Морось: умеренная интенсивность",55:"Морось: сильная интенсивность",56:"Ледяная морось: легкая интенсивность",57:"Ледяная морось: сильная интенсивность",61:"Дождь: слабая интенсивность",63:"Дождь: умеренная интенсивность",65:"Дождь: сильная интенсивность",66:"Ледяной дождь: легкая интенсивность",67:"Ледяной дождь: сильная интенсивность",71:"Снег: слабая интенсивность",73:"Снег: умеренная интенсивность",75:"Снег: сильная интенсивность",77:"Снежные зерна",80:"Дождь с прояснениями: слабая интенсивность",81:"Дождь с прояснениями: умеренная интенсивность",82:"Дождь с прояснениями: сильная интенсивность",85:"Снег с прояснениями: слабая интенсивность",86:"Снег с прояснениями: сильная интенсивность",95:"Гроза: слабая или умеренная",96:"Гроза с мелкой градиной",99:"Гроза с крупной градиной"};function c(e){return s[e]}},6491:function(e){e.exports={card:"style_card__GZMlF",card__item:"style_card__item__qWo8j",card__button:"style_card__button__CuFXO"}}},function(e){e.O(0,[410,940,971,69,744],function(){return e(e.s=5469)}),_N_E=e.O()}]);